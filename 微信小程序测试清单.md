# 微信小程序真机测试清单

## 测试前准备

- [ ] 安装微信开发者工具
- [ ] 运行 `npm run dev:mp-weixin:merchant` 编译商家端
- [ ] 运行 `npm run dev:mp-weixin:client` 编译客户端
- [ ] 在微信开发者工具中打开项目目录
- [ ] 检查编译是否有错误或警告
- [ ] 真机扫码预览

## 商家端测试清单

### 登录/注册

- [ ] 手机号输入正常
- [ ] 密码输入正常（掩码显示）
- [ ] 登录成功后跳转正确
- [ ] 登录失败有错误提示
- [ ] 注册流程正常

### 工作台

- [ ] 店铺名称显示正确
- [ ] 今日订单数显示正确
- [ ] 今日销售额显示正确
- [ ] 待接单数量正确
- [ ] 过期提示正常（如有）
- [ ] 各功能入口按钮可点击

### 商品管理

- [ ] 商品列表正常加载
- [ ] 分类切换正常
- [ ] 搜索功能正常
- [ ] 新增商品
  - [ ] 表单验证正常
  - [ ] 图片上传正常
  - [ ] 多单位价格设置正常
  - [ ] 保存成功
- [ ] 编辑商品
  - [ ] 数据回显正确
  - [ ] 修改保存成功
- [ ] 删除商品
  - [ ] 有确认提示
  - [ ] 有关联订单时无法删除
  - [ ] 提示信息包含订单数量
  - [ ] 建议使用"下架"功能处理

### 客户管理

- [ ] 客户列表正常加载
- [ ] 搜索功能正常
- [ ] 新增客户
  - [ ] 表单验证正常
  - [ ] 保存成功
- [ ] 编辑客户正常
- [ ] 查看客户详情
  - [ ] 欠款显示正常
  - [ ] 赊账额度显示正确

### 代客下单

- [ ] 选择客户正常
- [ ] 添加商品到订单
  - [ ] 商品选择器正常打开
  - [ ] 返回选中的商品
- [ ] 多单位商品添加
  - [ ] 弹出数量选择窗口
  - [ ] 显示商品预览信息（图片、名称、单价）
  - [ ] 大单位/小单位数量输入正常
  - [ ] 小计金额实时计算
  - [ ] 确认添加成功
- [ ] 编辑已添加商品
  - [ ] 点击"修改"打开选择窗口
  - [ ] 数量回显正确
  - [ ] 修改后金额更新
  - [ ] 数量为0时自动删除商品
- [ ] 移除商品有确认提示
- [ ] 支付方式选择正常
  - [ ] 赊账结算
  - [ ] 现金支付
- [ ] 备注输入正常
- [ ] 订单金额总计正确
- [ ] 提交订单成功
  - [ ] 商品数量换算正确（大单位→小单位）
  - [ ] 平均单价计算正确
  - [ ] 跳转回订单列表

### 订单管理

- [ ] 订单列表正常加载
- [ ] Tab切换正常（全部/待接单/已完成）
- [ ] 订单详情页正常
  - [ ] 商品清单显示完整
  - [ ] 金额计算正确
  - [ ] 状态显示正确
- [ ] 接单/完成订单
  - [ ] 操作成功
  - [ ] 状态更新正确
- [ ] 取消订单有确认提示
- [ ] 分享订单小票
  - [ ] 点击"分享单据"按钮
  - [ ] 小票图片生成成功
  - [ ] 小票内容完整（店铺信息、订单信息、商品清单、金额）
  - [ ] 图片预览正常
  - [ ] 长按保存图片到相册
  - [ ] 发送给朋友功能正常
  - [ ] 生成失败有错误提示

### 店铺设置

- [ ] 店铺信息显示正确
- [ ] 修改店铺信息正常
- [ ] 二维码页面
  - [ ] 二维码图片加载正常
  - [ ] 保存图片功能正常
  - [ ] 扫码次数显示正确

### 续费管理

- [ ] 有效期显示正确
- [ ] 到期提示正常
  - [ ] 30天内到期显示警告提示
  - [ ] 已过期显示错误提示
- [ ] 套餐列表正常加载
- [ ] 选择套餐交互正常
  - [ ] 单击选择套餐
  - [ ] 选中状态高亮显示
- [ ] 免费套餐续费
  - [ ] 点击"免费续费"成功
  - [ ] 有效期正确延长
  - [ ] 返回上一页
- [ ] 付费套餐续费（演示环境）
  - [ ] 创建订单成功
  - [ ] 订单号显示正确
  - [ ] 金额显示正确
  - [ ] 模拟支付成功
  - [ ] 有效期正确延长
- [ ] 续费失败有错误提示

## 客户端测试清单

### 扫码进店

- [ ] 扫描店铺二维码正常
- [ ] 店铺信息显示正确
- [ ] 首次访问自动关联商家

### 商品浏览

- [ ] 商品列表正常加载
- [ ] 分类导航正常
- [ ] 搜索功能正常
- [ ] 商品图片显示正常
- [ ] 多单位商品显示正确
- [ ] 价格显示正确

### 购物车

- [ ] 添加商品到购物车
- [ ] 多单位商品添加正确
- [ ] 购物车列表显示正确
- [ ] 数量修改正常
- [ ] 删除商品正常
- [ ] 总价计算正确

### 下单结算

- [ ] 结算页面数据正确
- [ ] 支付方式选择正常
- [ ] 备注输入正常
- [ ] 提交订单成功
- [ ] 赊账订单创建成功

### 订单历史

- [ ] 订单列表正常加载
- [ ] 订单详情页正常
- [ ] 订单状态显示正确
- [ ] 商品清单显示完整

### 我的资产

- [ ] 欠款金额显示正常（红色大字）
- [ ] 订单统计正确
- [ ] 消费金额统计正确

### 我的商家

- [ ] 访问过的店铺列表正常
- [ ] 店铺信息显示正确
- [ ] 快速进入店铺

## 兼容性检查

### API 兼容性

- [ ] 不使用 `window` 或 `document`
- [ ] 不使用 `axios`（使用 `uni.request`）
- [ ] 图片上传使用 `uniCloud.uploadFile`
- [ ] 本地存储使用 `uni.getStorageSync`

### 样式兼容性

- [ ] 按钮大小符合最小点击区域（44px）
- [ ] 文字大小可读（不小于12px）
- [ ] 颜色对比度足够
- [ ] 布局在不同屏幕尺寸正常

### 功能兼容性

- [ ] 微信授权登录正常
- [ ] 分享功能正常
- [ ] 二维码扫描正常
- [ ] 图片预览正常
- [ ] 图片保存到相册正常（需授权）

## 已知问题记录

记录测试中发现的问题：

| 问题描述 | 严重程度 | 状态 |
| -------- | -------- | ---- |
|          |          |      |

## 测试结果

- 测试人：\***\*\_\_\*\***
- 测试日期：\***\*\_\_\*\***
- 测试环境：\***\*\_\_\*\***
- 总体评价：\***\*\_\_\*\***
